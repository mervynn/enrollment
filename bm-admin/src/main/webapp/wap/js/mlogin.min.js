function CtoH(t) {
    for (var n = t.value, e = "", i = 0; i < n.length; i++) e += 12288 != n.charCodeAt(i) ? n.charCodeAt(i) > 65280 && n.charCodeAt(i) < 65375 ? String.fromCharCode(n.charCodeAt(i) - 65248) : String.fromCharCode(n.charCodeAt(i)) : String.fromCharCode(n.charCodeAt(i) - 12256);
    return t.value = e, e
}
function refreshAuth() {
    var t = "./verify.shtml?v=" + Math.random();
    $("#imgCode").attr("src", t)
}
$(function() {
    function t() {}
    function n() {
        function t(t) {
            $(".pop-msg").html(t.msg), $(".btn-continue").attr("href", t.url).html(t.btn), $(".pop-dialog").show()
        }
        function n() {
            $(".txt-input").on("input", function() {
                $(this).siblings("i").show(), i() ? $("#loginBtn").addClass("btn-active") : $("#loginBtn").removeClass("btn-active")
            })
        }
        function i() {
            var t = !0;
            return $(".txt-input").each(function() {
                return $(this).val() ? void 0 : (t = !1, !1)
            }), t
        }
        function o() {
            $(".input-container").removeClass("input-error"), $("#loginBtn").addClass("btn-active-disable").html("登录中"), $(".notice").html(" ");
            var e = c();
            $.ajax({
                url: "./login.shtml",
                type: "POST",
                data: e,
                dataType: "json",
                success: function(i) {
                    $("#loginBtn").removeClass("btn-active-disable").html("登录");
                    var c = (new Date).getTime() - o;
                    if (0 == i.code) setTimeout(function() {
                        location.href = i.succcb
                    }, 200);
                    else switch (i.needauth ? ($("#loginBtn").removeClass("btn-active"), $("#input-code").show().find("input").addClass("txt-input"), _need_ck = !0, refreshAuth(), n()) : ($("#input-code").hide().find("input").removeClass("txt-input"), _need_ck = !1, n()), i.code) {
                        case 6:
                            $("#password").parent().addClass("input-error"), $(".notice").html(i.msg);
                            break;
                        case 7:
                            $("#phonenumber").parent().addClass("input-error"), $(".notice").html(i.msg);
                            break;
                        case 257:
                            $("#code").val("").parent().addClass("input-error"), $(".notice").html(i.msg);
                            break;
                        case 128:
                            t({
                                msg: "您的账号存在安全风险，请进行短信登录验证",
                                btn: "确定",
                                url: i.succcb
                            });
                            break;
                        case 100:
                            t({
                                msg: "您的账号存在安全风险，请前往电脑版验证账号，有问题请致电客服",
                                btn: "确定",
                                url: "tel:400xxxxxxx"
                            });
                            break;
                        case 103:
                            t({
                                msg: i.msg,
                                btn: "找回密码",
                                url: ""
                            });
                            break;
                        case 105:
                            location.href = i.succcb;
                            break;
                        default:
                            $(".notice").html(i.msg)
                    }
                },
                error: function() {
                    $(".notice").html("服务器开小差，请稍后重试"), $("#loginBtn").removeClass("btn-active-disable").html("登录");
                    var t = (new Date).getTime() - o;
                }
            })
        }
        function c() {
            var t = {};
            t.phonenumber = $("#phonenumber").val(), t.password = $("#password").val();
            return _need_ck && (t.authcode = $("#code").val()), t
        }
        _need_ck && $("#code").addClass("txt-input"), $(".J_ping").click(function() {
            var t = $(this).attr("report-eventid");
        }), $(".acc-input").on("focus", function() {
            $(this).siblings("i").show()
        }).on("blur", function() {
            var t = this;
            setTimeout(function() {
                $(t).siblings("i").hide()
            }, 200)
        }), $(".icon-clear").on("click", function() {
            $(this).siblings("input").val("").focus(), $(this).hide(), i() ? $("#loginBtn").addClass("btn-active") : $("#loginBtn").removeClass("btn-active")
        }), $("#imgCode").on("click", function() {
            refreshAuth()
        }), $(".quickReg").on("click", function() {
            setTimeout(function() {
                location.href = "./register.shtml"
            }, 100)
        }), $(".findpwd").on("click", function() {
            setTimeout(function() {
                location.href = "./user/getpassword/one.shtml"
            }, 100)
        }), $(".quick-qq").on("click", function() {
            setTimeout(function() {
                location.href = "./qqlogin.shtml"
            }, 100)
        }), $(".quick-wx").on("click", function() {
            setTimeout(function() {
                location.href = "./wxlogin.shtml"
            }, 100)
        }), $(".icon-goback").on("click", function() {
            window.history.back()
        }), $("#remberme").on("click", function(t) {
            e = !e
        }), $(".label-checkbox").on("click", function() {
            var t = $(this).find("input").prop("checked");
            t ? $(this).siblings("input").attr("type", "password") : $(this).siblings("input").attr("type", "text"), $(this).find("input").prop("checked", !t)
        }), $(".btn-cancel").on("click", function() {
            $(this).parents(".pop-dialog").hide()
        }), $(".btn-continue").on("click", function() {
            $(this).parents(".pop-dialog").hide()
        }), n(), $("#loginBtn").on("click", function() {
            return $(this).hasClass("btn-active") ? void o() : !1
        })
    }
    var e = !0;
    $(document).ready(function() {
        t(), n()
    })
});